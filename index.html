<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Web Deprecation Metrics</title>

<link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;800&family=Roboto+Slab:wght@100;500&display=swap" rel="stylesheet" crossorigin="anonymous">
<style>
  body, html {
    border: 0;
    margin: 0;
    padding: 0;
  }
  h1 {
    background: black;
    color: white;
    font: 100 40px/1.2 'Roboto Slab', sans-serif;
    margin: 0 0 40px 0;
    padding: 40px;
    text-align: right;
  }
  article {
    max-width: 750px;
    margin: 0 auto;
  }
  h2 {
    font: 800 24px/1.2 'Open Sans', sans-serif;
  }

    h2 a, h2 a:visited {
      margin-left: -24px;
      margin-right: 4px;
      text-decoration: none;
      font-weight: 400;
      color: #FFF;
    }
      h2:hover a, h3:hover a {
        color: #99F;
      }

  p, ul {
    font: 18px/1.2 'Open Sans', sans-serif;
  }
  li {
    margin: 0 0 20px 20px;
  }
  section {
    max-width:750px;
    margin: 1em auto;
    background: #111;
  }

  h3 {
    color: #000;
    font-family: 'Roboto Slab', 'Sans Serif';
    font-weight: 100;
    font-size: 22px;
    margin: 0;
    padding: 0.5em;
  }
    h3 a {
      color: #FFF;  
    }

  table {
    width: 100%;
    text-align: center;
  }
  th {
    font-family: 'Roboto Slab';
    color: #FFF;
    font-size: 
  }
  td {
    font-family: 'Roboto Slab', 'Sans Serif';
    font-weight: 500;
    font-size: 40px;
    color: #FFF;
  }
    td.passes-few  { color: #e57373; }
    td.passes-some { color: #ffb74d; }
    td.passes-many { color: #dce775; }
    td.passes-most { color: #aed581; }
    td.passes-all  { color: #81c784; }

  footer {
    background: black;
    color: white;
    margin: 1em 0 0 0;
    padding: 1ch 2ch;
    font: 15px/1.4 'Open Sans', sans-serif;
    text-align: right;
  }
    footer a, footer a:visited {
      font-family: monospace;
      color: #52cbff;
    }
</style>
</head>
<body>
  <h1>Web Deprecation Metrics</h1>
  <article>
    <h2 id="document-domain">
      <a href="#document-domain">ยง</a>
      <code>document.domain</code>
    </h2>
    <p>
      <code>document.domain</code>'s ability to relax the same-origin policy, allowing two same-site
      pages to synchronously script each other, is a footgun. It complicates the implementation of
      the single defensible security boundary the web can reasonably uphold, and confounds our
      ability to cleanly map that boundary onto an underlying process. Ideally, we'll be able to
      <a href="https://github.com/mikewest/deprecating-document-domain">remove this behavior from
      the platform</a>, as part of a broader shift towards origin-level isolation by default.
    </p>
    <p>
      The data below is gathered from
      <a href="https://chromestatus.com/metrics/feature/popularity">Chrome's usage statistics</a>,
      and represents the percentage of Chrome page loads that are affected by
      <code>document.domain</code> either allowing or blocking a cross-origin access that would
      have behaved otherwise in its absence.
    </p>
      
    <canvas id="dd_usage"></canvas>
  </article>

  <article>
   <h2 id="sab-isolation">
     <a href="#sab-isolation">ยง</a>
     Unisolated <code>SharedArrayBuffer</code>
   </h2>
   <p>TODO: explain.</p>

   <canvas id="sab_usage"></canvas>
  </article>


  <article>
   <h2 id="mime-sniffing">
     <a href="#mime-sniffing">ยง</a>
     MIME Sniffing
   </h2>
   <p>TODO: explain.</p>

   <h3>Same-Origin MIME Mismatches</h3>
   <canvas id="same_origin_mime_usage"></canvas>

   <h3>Cross-Origin MIME Mismatches</h3>
   <canvas id="cross_origin_mime_usage"></canvas>

   <h3>Worker Mismatches</h3>
   <canvas id="worker_usage"></canvas>
  </article>

  <article>
   <h2 id="cors-rfc1918">
     <a href="#cors-rfc1918">ยง</a>
     Private Network Access
   </h2>
   <p>TODO: explain.</p>

   <h3>Private Network Access from Nonsecure Contexts</h3>
   <canvas id="nonsecure_private_network_usage"></canvas>

   <h3>Private Network Access from Secure Contexts</h3>
   <canvas id="secure_private_network_usage"></canvas>
  </article>

  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js" integrity="sha256-R4pqcOYV8lt7snxMQO/HSbVCFRPMdrhAFMH+vr9giYI=" crossorigin="anonymous" nonce="not-really-a-nonce"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@0.5.7/chartjs-plugin-annotation.min.js" integrity="sha256-Olnajf3o9kfkFGloISwP1TslJiWUDd7IYmfC+GdCKd4=" crossorigin="anonymous" nonce="not-really-a-nonce"></script>
  <script nonce="not-really-a-nonce">
    const colors = { red: "#e41a1c", blue: "#377eb8", green: "#4daf4a", orange: "#ff7f00", purple: "#984ea3" };
    const use_counter_days = ["2020-09-18", "2020-09-19", "2020-09-20", "2020-09-21", "2020-09-22", "2020-09-23", "2020-09-24", "2020-09-25", "2020-09-26", "2020-09-27", "2020-09-28", "2020-09-29", "2020-09-30", "2020-10-01", "2020-10-02", "2020-10-03", "2020-10-04", "2020-10-05", "2020-10-06", "2020-10-07", "2020-10-08", "2020-10-09", "2020-10-10", "2020-10-11", "2020-10-12", "2020-10-13", "2020-10-14", "2020-10-15", "2020-10-16", "2020-10-17", "2020-10-18", "2020-10-19", "2020-10-20", "2020-10-21", "2020-10-22", "2020-10-23", "2020-10-24", "2020-10-25", "2020-10-26", "2020-10-27", "2020-10-28", "2020-10-29", "2020-10-30", "2020-10-31", "2020-11-01", "2020-11-02", "2020-11-03", "2020-11-04", "2020-11-05", "2020-11-06", "2020-11-07", "2020-11-08", "2020-11-09", "2020-11-10", "2020-11-11", "2020-11-12", "2020-11-13", "2020-11-14", "2020-11-15", "2020-11-16", "2020-11-17", "2020-11-18", "2020-11-19", "2020-11-20", "2020-11-21", "2020-11-22", "2020-11-23", "2020-11-24", "2020-11-25", "2020-11-26", "2020-11-27", "2020-11-28", "2020-11-29", "2020-11-30", "2020-12-01", "2020-12-02", "2020-12-03", "2020-12-04", "2020-12-05", "2020-12-06", "2020-12-07", "2020-12-08", "2020-12-09", "2020-12-10", "2020-12-11", "2020-12-12", "2020-12-13", "2020-12-14", "2020-12-15", "2020-12-16"];
    const use_counter_buckets = {"2167": [0, 0.05093, 0, 0, 0, 0, 0, 0, 0.05129, 0, 0, 0, 0, 0, 0.04417, 0, 0.04353, 0.04179, 0.0429, 0.04246, 0, 0.04424, 0.04973, 0.04562, 0.04289, 0.04125, 0.04309, 0.04291, 0.04458, 0.04405, 0.04183, 0.04235, 0.04292, 0.04218, 0.0414, 0.04255, 0.04468, 0.04087, 0.03897, 0.04011, 0.04061, 0.04088, 0.04151, 0.04349, 0.04073, 0.04032, 0.04002, 0.03898, 0.03991, 0.04143, 0.04899, 0.04411, 0.0417, 0.0417, 0.04242, 0.04234, 0.04331, 0.04583, 0.04201, 0.042, 0.04208, 0, 0.04244, 0.04369, 0.04822, 0.04503, 0.04426, 0.04653, 0, 0, 0.05262, 0.05254, 0.04726, 0.04438, 0.04312, 0.0421, 0.04192, 0.04408, 0.04983, 0.04624, 0, 0.04371, 0.03982, 0.0407, 0.04127, 0.04381, 0.04224, 0, 0, 0.04364], "2168": [0, 6e-05, 0, 0, 0, 0, 0, 0, 0.0116, 0, 0, 0, 0, 0, 3e-05, 0, 0.0258, 4e-05, 4e-05, 5e-05, 0, 4e-05, 0.0238, 0.0201, 0.0194, 0.0205, 0.0193, 4e-05, 0.0199, 0.0196, 0.0169, 4e-05, 4e-05, 3e-05, 4e-05, 4e-05, 0.0181, 4e-05, 4e-05, 4e-05, 3e-05, 3e-05, 3e-05, 0.0152, 0.0175, 3e-05, 4e-05, 4e-05, 4e-05, 3e-05, 0.0182, 3e-05, 3e-05, 4e-05, 4e-05, 3e-05, 4e-05, 4e-05, 4e-05, 4e-05, 9e-05, 0, 9e-05, 9e-05, 0.0001, 0.00011, 9e-05, 9e-05, 0, 0, 0.0001, 9e-05, 9e-05, 9e-05, 9e-05, 8e-05, 9e-05, 0.00011, 0.00011, 0.00018, 0, 9e-05, 9e-05, 9e-05, 0.0001, 0.0001, 0.0001, 0, 0, 0.0001], "2169": [0, 0.84685, 0, 0, 0, 0, 0, 0, 0.86465, 0, 0, 0, 0, 0, 0.85118, 0, 0.85435, 0.83731, 0.84573, 0.84088, 0, 0.84903, 0.83708, 0.83624, 0.82454, 0.8649, 1.15394, 2.32079, 2.65975, 3.13399, 3.18888, 2.83648, 2.89018, 2.92683, 2.95385, 3.0817, 3.52524, 3.4896, 2.98751, 2.98598, 3.04445, 3.08474, 3.15522, 3.69827, 3.6651, 3.1974, 3.3812, 3.46188, 3.34225, 3.42354, 3.86668, 3.67036, 3.16491, 3.18098, 3.23916, 3.17545, 3.28775, 3.73232, 3.82636, 3.1508, 3.10183, 0, 3.11574, 3.21762, 3.74256, 3.70809, 3.21827, 3.25901, 0, 0, 3.39536, 3.74924, 3.67747, 3.10551, 3.1642, 3.18888, 3.20756, 3.30643, 3.7931, 3.73271, 0, 3.29367, 3.00342, 3.06813, 3.25824, 3.7342, 3.65491, 0, 0, 3.20754], "2170": [0, 0.21287, 0, 0, 0, 0, 0, 0, 0.21557, 0, 0, 0, 0, 0, 0.20161, 0, 0.21768, 0.21141, 0.20778, 0.20989, 0, 0.2051, 0.21439, 0.22305, 0.20397, 0.1913, 0.24358, 0.2444, 0.23279, 0.22441, 0.22852, 0.23339, 0.2277, 0.22327, 0.21804, 0.21856, 0.21832, 0.22348, 0.2176, 0.21188, 0.20996, 0.20968, 0.2099, 0.21682, 0.22169, 0.20909, 0.21413, 0.20883, 0.21094, 0.212, 0.22234, 0.22796, 0.21211, 0.20687, 0.21271, 0.20515, 0.2038, 0.21379, 0.21451, 0.20545, 0.21396, 0, 0.20447, 0.1972, 0.21306, 0.21456, 0.2042, 0.20145, 0, 0, 0.2041, 0.19138, 0.19829, 0.18566, 0.18687, 0.18017, 0.17796, 0.17676, 0.19149, 0.20355, 0, 0.21388, 0.217, 0.21476, 0.20641, 0.20581, 0.21269, 0, 0, 0.20968], "2171": [0, 0.00023, 0, 0, 0, 0, 0, 0, 0.00024, 0, 0, 0, 0, 0, 0.00049, 0, 0.0003, 0.00057, 0.0005, 0.00055, 0, 0.00051, 0.00028, 0.00046, 0.00103, 0.00056, 0.00069, 0.00069, 0.00063, 0.00029, 0.00033, 0.00068, 0.00066, 0.00068, 0.00077, 0.00061, 0.00033, 0.00035, 0.00064, 0.00058, 0.00058, 0.00058, 0.00061, 0.00038, 0.00046, 0.00073, 0.00069, 0.00064, 0.00064, 0.00059, 0.00031, 0.00034, 0.0006, 0.00057, 0.00054, 0.00059, 0.00056, 0.00034, 0.00035, 0.00058, 0.00055, 0, 0.0005, 0.00048, 0.00029, 0.00032, 0.00052, 0.00052, 0, 0, 0.0004, 0.00029, 0.00032, 0.00041, 0.00053, 0.00057, 0.00057, 0.00053, 0.00037, 0.00035, 0, 0.00074, 0.00069, 0.00066, 0.00063, 0.00036, 0.00041, 0, 0, 0.0006], "2172": [0, 0.57895, 0, 0, 0, 0, 0, 0, 0.60043, 0, 0, 0, 0, 0, 0.51773, 0, 0.73195, 0.64006, 0.63357, 0.6469, 0, 0.67356, 0.78486, 0.78375, 0.68071, 0.61659, 0.67794, 0.67683, 0.71395, 0.81678, 0.79147, 0.69508, 0.69898, 0.70061, 0.68964, 0.70755, 0.84846, 0.8159, 0.69625, 0.69505, 0.71747, 0.60183, 0.56547, 0.66409, 0.64941, 0.57572, 0.56603, 0.56246, 0.54304, 0.55286, 0.64685, 0.61701, 0.52859, 0.51304, 0.54019, 0.52546, 0.55196, 0.63144, 0.9863, 0.60201, 0.52021, 0, 0.51471, 0.52712, 0.64591, 0.62071, 0.54266, 0.5503, 0, 0, 0.5716, 0.60893, 0.60229, 0.4962, 0.49179, 0.51999, 0.53046, 0.53253, 0.64557, 0.63372, 0, 0.53707, 0.54899, 0.54881, 0.56211, 0.6354, 0.62873, 0, 0, 0.55805], "2173": [0, 0.00151, 0, 0, 0, 0, 0, 0, 0.00147, 0, 0, 0, 0, 0, 0.00156, 0, 0.002, 0.00132, 0.00136, 0.00127, 0, 0.00121, 0.00149, 0.00154, 0.00124, 0.00154, 0.00154, 0.00154, 0.00151, 0.00148, 0.00161, 0.00147, 0.0015, 0.00136, 0.0013, 0.00128, 0.00144, 0.00153, 0.0013, 0.00145, 0.00132, 0.00127, 0.00125, 0.00143, 0.00162, 0.00152, 0.00154, 0.00142, 0.00145, 0.00113, 0.00142, 0.00154, 0.00131, 0.0015, 0.00139, 0.00125, 0.00128, 0.00148, 0.00162, 0.00121, 0.00159, 0, 0.00123, 0.00117, 0.00135, 0.00145, 0.0017, 0.00141, 0, 0, 0.00154, 0.00146, 0.00157, 0.0013, 0.00138, 0.00102, 0.00113, 0.0012, 0.00142, 0.00147, 0, 0.00175, 0.00154, 0.00149, 0.00154, 0.00183, 0.00244, 0, 0, 0.00138], "2174": [0, 7.89124, 0, 0, 0, 0, 0, 0, 7.91566, 0, 0, 0, 0, 0, 6.34206, 0, 7.50598, 5.9531, 5.95761, 6.03145, 0, 6.28566, 7.63819, 7.38998, 5.94318, 5.58685, 6.27913, 6.278, 6.67155, 7.86657, 7.66716, 6.42804, 6.40323, 6.37069, 6.42207, 6.71575, 8.08838, 7.8089, 6.29996, 6.31024, 6.40394, 6.42888, 6.64931, 8.09599, 7.73582, 6.3947, 6.68063, 6.65618, 6.46081, 6.74434, 8.15438, 7.71066, 6.24173, 6.35304, 6.67837, 6.34521, 6.58817, 8.00542, 7.83998, 6.22074, 6.1201, 0, 6.14928, 6.43073, 7.98158, 7.76551, 6.30888, 6.48117, 0, 0, 7.29665, 8.04281, 7.74201, 6.05288, 6.00738, 6.10652, 6.12385, 6.4221, 8.05637, 7.77178, 0, 6.40852, 6.11638, 6.223, 6.64506, 8.02622, 7.76333, 0, 0, 6.47421], "2175": [0, 3.15047, 0, 0, 0, 0, 0, 0, 3.20264, 0, 0, 0, 0, 0, 2.67312, 0, 3.12977, 2.62721, 2.62872, 2.64233, 0, 2.67001, 3.15696, 3.18524, 2.68858, 2.46982, 2.77717, 2.79255, 2.88087, 3.19881, 3.22569, 2.85453, 2.87008, 2.83381, 2.80851, 2.83997, 3.24172, 3.27127, 2.75501, 2.72135, 2.75752, 2.78848, 2.78917, 3.24993, 3.27145, 2.804, 3.0306, 3.07953, 2.91146, 2.9526, 3.45333, 3.32088, 2.80323, 2.81735, 2.94024, 2.77374, 2.85401, 3.41832, 3.50265, 2.84748, 2.75772, 0, 2.81581, 2.85203, 3.51837, 3.49829, 2.96137, 2.95263, 0, 0, 3.7774, 3.69192, 3.6105, 3.03691, 2.77114, 2.83757, 2.98526, 3.04527, 3.64168, 3.6197, 0, 3.00162, 2.96467, 2.88206, 2.94254, 3.42629, 3.38147, 0, 0, 2.82953], "2176": [0, 0.00116, 0, 0, 0, 0, 0, 0, 0.00081, 0, 0, 0, 0, 0, 0.00098, 0, 0.0012, 0.00084, 0.00078, 0.00081, 0, 0.00104, 0.00118, 0.0011, 0.0008, 0.0009, 0.00085, 0.00076, 0.00077, 0.00082, 0.0007, 0.00068, 0.00074, 0.00076, 0.00075, 0.00079, 0.00094, 0.0009, 0.00063, 0.00056, 0.00062, 0.00066, 0.00056, 0.0005, 0.00054, 0.00051, 0.00056, 0.00055, 0.00061, 0.00059, 0.00075, 0.00077, 0.00065, 0.00061, 0.00068, 0.00071, 0.00078, 0.00081, 0.00057, 0.00055, 0.00056, 0, 0.00073, 0.00076, 0.00093, 0.00079, 0.00071, 0.00075, 0, 0, 0.0007, 0.00071, 0.00076, 0.00055, 0.00039, 0.00046, 0.0004, 0.00039, 0.00047, 0.00048, 0, 0.00038, 0.00042, 0.00042, 0.00038, 0.00044, 0.00046, 0, 0, 0.0004], "2543": [0, 0.20388, 0, 0, 0, 0, 0, 0, 0.20188, 0, 0, 0, 0, 0, 0.22327, 0, 0.20721, 0.2172, 0.25022, 0.27202, 0, 0.22213, 0.20896, 0.22235, 0.23846, 0.21176, 0.25212, 0.26054, 0.24089, 0.21687, 0.2229, 0.23507, 0.22828, 0.22956, 0.23785, 0.22415, 0.2092, 0.21653, 0.22561, 0.22474, 0.22731, 0.22947, 0.22142, 0.21124, 0.2126, 0.22191, 0.21444, 0.21404, 0.2159, 0.20547, 0.19501, 0.20133, 0.22349, 0.22924, 0.22086, 0.21845, 0.20961, 0.19901, 0.21153, 0.21861, 0.21474, 0, 0.20763, 0.19017, 0.16713, 0.17835, 0.19237, 0.18997, 0, 0, 0.16603, 0.16307, 0.17681, 0.18685, 0.18833, 0.18916, 0.18893, 0.17922, 0.1661, 0.17752, 0, 0.29516, 0.28445, 0.27362, 0.24825, 0.23596, 0.24676, 0, 0, 0.23286], "2544": [0, 0.46577, 0, 0, 0, 0, 0, 0, 0.46678, 0, 0, 0, 0, 0, 0.36709, 0, 0.50405, 0.38703, 0.38891, 0.39197, 0, 0.36164, 0.38471, 0.44059, 0.39063, 0.36738, 0.4496, 0.43867, 0.4046, 0.49167, 0.50816, 0.42222, 0.44371, 0.4455, 0.43876, 0.39068, 0.46799, 0.49284, 0.4091, 0.42131, 0.43463, 0.42519, 0.37785, 0.48016, 0.50396, 0.41302, 0.4441, 0.4576, 0.43903, 0.38875, 0.46775, 0.50926, 0.39489, 0.40371, 0.40695, 0.40468, 0.36276, 0.40056, 0.45969, 0.39272, 0.41385, 0, 0.38166, 0.36048, 0.42758, 0.45758, 0.38226, 0.41262, 0, 0, 0.33939, 0.41152, 0.44806, 0.3666, 0.39714, 0.40449, 0.40958, 0.35322, 0.43431, 0.46355, 0, 0.50821, 0.48927, 0.47291, 0.40619, 0.47237, 0.5486, 0, 0, 0.47621], "3090": [0, 0.00108, 0, 0, 0, 0, 0, 0, 0.00114, 0, 0, 0, 0, 0, 0.00105, 0, 0.00087, 0.00116, 0.00124, 0.00118, 0, 0.00129, 0.00111, 0.00099, 0.00124, 0.0012, 0.0014, 0.00191, 0.00223, 0.00176, 0.0019, 0.00276, 0.00231, 0.00223, 0.00214, 0.00212, 0.00179, 0.00189, 0.00215, 0.00213, 0.00205, 0.00202, 0.00191, 0.00177, 0.00172, 0.00188, 0.00209, 0.00215, 0.00193, 0.00187, 0.00195, 0.00199, 0.00213, 0.00263, 0.00219, 0.00211, 0.00196, 0.00163, 0.00161, 0.00196, 0.00241, 0, 0.00176, 0.00169, 0.00164, 0.00159, 0.0019, 0.00182, 0, 0, 0.00157, 0.0014, 0.00143, 0.00169, 0.00165, 0.00174, 0.0011, 0.00092, 0.00073, 0.00081, 0, 0.00164, 0.00168, 0.00158, 0.00134, 0.00084, 0.00102, 0, 0, 0.0014], "3114": [0, 1.2301, 0, 0, 0, 0, 0, 0, 1.23789, 0, 0, 0, 0, 0, 1.30144, 0, 1.22636, 1.33906, 1.34494, 1.34801, 0, 1.3738, 1.33, 1.44845, 1.52221, 1.3934, 1.43188, 1.48726, 1.41091, 1.16384, 1.20637, 1.336, 1.38093, 1.37793, 1.39642, 1.3641, 1.20231, 1.28315, 1.3998, 1.38874, 1.40498, 1.42246, 1.38179, 1.17059, 1.22193, 1.35421, 1.34533, 1.39255, 1.38965, 1.36982, 1.23792, 1.31189, 1.41104, 1.43487, 1.47169, 1.65082, 1.45514, 1.3244, 1.35681, 1.45916, 1.47423, 0, 1.5829, 1.44709, 1.32238, 1.38549, 1.41002, 1.41042, 0, 0, 1.50507, 1.35701, 1.38911, 1.49446, 1.37053, 1.41328, 1.41959, 1.37447, 1.29145, 1.3219, 0, 1.26359, 1.22006, 1.24649, 1.32927, 1.3579, 1.5158, 0, 0, 1.592], "3688": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0012, 0, 0.0049, 0.0078, 0.0074, 0.0099, 0, 0.0102, 0.0033, 0.0034, 0.009, 0.0128, 0.013, 0.0109, 0.0064, 0.0028, 0.0058, 0.0081, 0.0087, 0.0077, 0.0068, 0.0068, 0.0043, 0.005, 0.0073, 0.0083, 0.0071, 0.0067, 0.0058, 0.0029, 0.0046, 0.007, 0.0066, 0.0072, 0.0067, 0.006, 0.0031, 0.005, 0.0099, 0.0102, 0.0097, 0.0091, 0.0064, 0.0015, 0.0155, 0.0066, 0.0114, 0.0146, 0.0132, 0.01064, 0.00337, 0.00785, 0.0133, 0.01377, 0, 0, 0.00903, 0.00392, 0.00883, 0.01672, 0.01638, 0.01602, 0.01714, 0.01303, 0.00406, 0.00986, 0, 0.0176, 0.01637, 0.0158, 0.01049, 0.0033, 0.00743, 0, 0, 0.01283], "3689": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0044, 0, 0.0085, 0.0122, 0.0114, 0.0139, 0, 0.0188, 0.0097, 0.0076, 0.0217, 0.0336, 0.0278, 0.0231, 0.009, 0.0166, 0.0245, 0.0455, 0.0354, 0.0289, 0.0313, 0.0288, 0.0138, 0.0101, 0.0318, 0.0394, 0.0316, 0.022, 0.0206, 0.0143, 0.0243, 0.0541, 0.0346, 0.0273, 0.0321, 0.0045, 0.0025, 0.0208, 0.0054, 0.0049, 0.0392, 0.0432, 0.004, 0.0031, 0.0314, 0.0068, 0.0103, 0.0111, 0.0107, 0.0081, 0.00492, 0.00841, 0.01217, 0.01238, 0, 0, 0.00926, 0.00507, 0.01016, 0.01336, 0.01291, 0.01339, 0.01447, 0.00985, 0.0048, 0.01068, 0, 0.01315, 0.01296, 0.01181, 0.00794, 0.00423, 0.00775, 0, 0, 0.01064], "3690": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.1561, 0, 0.1141, 0.1006, 0.117, 0.14, 0, 0.2123, 0.1131, 0.0825, 0.1641, 0.2348, 0.2345, 0.2298, 0.1891, 0.1716, 0.1838, 0.1841, 0.2021, 0.1963, 0.1915, 0.1811, 0.1622, 0.1553, 0.1685, 0.1783, 0.1702, 0.1847, 0.1669, 0.141, 0.1512, 0.1678, 0.1637, 0.1506, 0.1727, 0.1524, 0.1259, 0.1324, 0.1823, 0.1945, 0.1712, 0.2003, 0.1978, 0.1419, 0.1556, 0.2, 0.2364, 0, 0.2098, 0.19449, 0.13697, 0.16116, 0.20093, 0.20265, 0, 0, 0.15321, 0.14726, 0.18193, 0.22639, 0.21641, 0.22513, 0.24101, 0.22085, 0.14682, 0.18807, 0, 0.26888, 0.26191, 0.25218, 0.21661, 0.11856, 0, 0, 0, 0.21981], "3691": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0108, 0, 0.0159, 0.0154, 0.0184, 0.0256, 0, 0.0301, 0.0184, 0.0122, 0.023, 0.0316, 0.0386, 0.0332, 0.0165, 0.0125, 0.0142, 0.0138, 0.0122, 0.0134, 0.0198, 0.0127, 0.0143, 0.0191, 0.0126, 0.0144, 0.0132, 0.0373, 0.0128, 0.0105, 0.0148, 0.0439, 0.0112, 0.0409, 0.0128, 0.0106, 0.0101, 0.0107, 0.0112, 0.0137, 0.0115, 0.0129, 0.0108, 0.0431, 0.0144, 0.014, 0.0198, 0.0242, 0.02, 0.0175, 0.01832, 0.01899, 0.0196, 0.01912, 0, 0, 0.01785, 0.01842, 0.02059, 0.01896, 0.0179, 0.01859, 0.01933, 0.01759, 0.01748, 0.02074, 0, 0.02106, 0.02115, 0.01921, 0.01555, 0.01467, 0.01602, 0, 0, 0.01532], "3692": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0993, 0, 0.1379, 0.1336, 0.1483, 0.1886, 0, 0.2896, 0.1594, 0.1123, 0.2207, 0.3203, 0.2995, 0.2862, 0.167, 0.1303, 0.1329, 0.1402, 0.14, 0.1285, 0.1374, 0.1258, 0.1106, 0.1172, 0.1394, 0.1395, 0.1357, 0.1433, 0.1382, 0.1126, 0.133, 0.1518, 0.1385, 0.1423, 0.1501, 0.1275, 0.0969, 0.1132, 0.1403, 0.1417, 0.1559, 0.141, 0.1249, 0.0959, 0.1109, 0.133, 0.1822, 0.2064, 0.2028, 0.18186, 0.13368, 0.15857, 0.18468, 0.18936, 0, 0, 0.14134, 0.1345, 0.16276, 0.20923, 0.21228, 0.21417, 0.22175, 0.20268, 0.14625, 0.17637, 0, 0.233, 0.21279, 0.20847, 0.18017, 0.11618, 0.13962, 0, 0, 0.18377], "3693": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.2373, 0, 0.3445, 0.3693, 0.3584, 0.4399, 0, 0.5956, 0.3489, 0.2462, 0.4905, 0.7811, 0.7029, 0.637, 0.3337, 0.283, 0.2993, 0.3039, 0.3014, 0.2776, 0.2886, 0.2614, 0.2343, 0.2674, 0.2843, 0.2886, 0.2827, 0.2929, 0.3004, 0.2526, 0.2826, 0.2976, 0.2945, 0.2906, 0.2913, 0.2449, 0.2088, 0.2332, 0.2826, 0.2753, 0.2564, 0.2661, 0.1875, 0.1376, 0.1476, 0.172, 0.2127, 0.2335, 0.217, 0.20712, 0.17722, 0.1819, 0.19708, 0.20029, 0, 0, 0.18033, 0.16266, 0.18729, 0.22601, 0.21988, 0.22481, 0.23044, 0.21593, 0.1703, 0.1937, 0, 0.24163, 0.22295, 0.2106, 0.19251, 0.13645, 0.15108, 0, 0, 0.18637], "3694": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.046, 0, 0.0679, 0.179, 0.1627, 0.1972, 0, 0.3297, 0.1715, 0.1328, 0.2996, 0.4308, 0.3975, 0.4478, 0.3705, 0.4481, 0.4675, 0.4405, 0.4647, 0.4765, 0.5012, 0.5096, 0.5757, 0.543, 0.5027, 0.5118, 0.5174, 0.533, 0.5644, 0.6037, 0.6059, 0.4974, 0.4169, 0.4498, 0.4595, 0.4747, 0.5023, 0.5084, 0.4823, 0.503, 0.5, 0.5078, 0.523, 0.5422, 0.5459, 0.4939, 0.3696, 0.2706, 0.3086, 0.33212, 0.35803, 0.37393, 0.37737, 0.40854, 0, 0, 0.4679, 0.49235, 0.49213, 0.4449, 0.39509, 0.41595, 0.44886, 0.47873, 0.51825, 0.52482, 0, 0.45596, 0.45939, 0.49456, 0.47408, 0.40033, 0.41008, 0, 0, 0.46949], "3695": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0044, 0, 0.0064, 0.0098, 0.01, 0.0159, 0, 0.0336, 0.0205, 0.0148, 0.0291, 0.0389, 0.0374, 0.0444, 0.0506, 0.0698, 0.0627, 0.0507, 0.0588, 0.0658, 0.0674, 0.0699, 0.0714, 0.0769, 0.0661, 0.0679, 0.0678, 0.0742, 0.078, 0.0883, 0.0837, 0.0625, 0.0579, 0.0548, 0.0532, 0.0539, 0.0672, 0.0635, 0.0554, 0.0566, 0.0665, 0.0653, 0.0705, 0.071, 0.0712, 0.059, 0.0496, 0.0329, 0.0347, 0.03494, 0.03942, 0.04102, 0.04105, 0.04281, 0, 0, 0.04649, 0.05391, 0.0519, 0.04424, 0.04022, 0.04231, 0.04474, 0.04828, 0.05175, 0.05225, 0, 0.04481, 0.04658, 0.051, 0.04768, 0.04649, 0.04667, 0, 0, 0.04785], "3696": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0656, 0, 0.1049, 0.1725, 0.1697, 0.2049, 0, 0.2513, 0.1022, 0.0954, 0.2179, 0.3457, 0.3341, 0.3503, 0.3413, 0.2778, 0.293, 0.4273, 0.4265, 0.4342, 0.4463, 0.4459, 0.3124, 0.4425, 0.4946, 0.507, 0.4284, 0.4629, 0.4024, 0.2949, 0.3346, 0.3731, 0.424, 0.4315, 0.4514, 0.384, 0.2812, 0.3167, 0.452, 0.4316, 0.4141, 0.4136, 0.3657, 0.2522, 0.2873, 0.3828, 0.3697, 0.363, 0.358, 0.31396, 0.21208, 0.25235, 0.36176, 0.37338, 0, 0, 0.32299, 0.24871, 0.29702, 0.37728, 0.38242, 0.38694, 0.39521, 0.363, 0.26677, 0.31021, 0, 0.37817, 0.37822, 0.37362, 0.32911, 0.2358, 0.27734, 0, 0, 0.35993], "3697": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.2654, 0, 0.3666, 0.6061, 0.574, 0.7191, 0, 0.7916, 0.3107, 0.2857, 0.6705, 1.042, 1.0718, 1.0255, 0.8054, 0.537, 0.6323, 0.8951, 0.9037, 0.9058, 0.8855, 0.8103, 0.5431, 0.6117, 0.8798, 0.8845, 0.8417, 0.8641, 0.7688, 0.6356, 0.7403, 0.8575, 0.928, 0.9344, 0.9335, 0.8095, 0.6117, 0.7098, 0.9498, 0.9315, 0.9141, 0.8574, 0.6036, 0.422, 0.4406, 0.5374, 0.527, 0.4376, 0.3955, 0.33884, 0.21757, 0.26237, 0.39998, 0.40759, 0, 0, 0.35201, 0.22961, 0.29745, 0.40301, 0.40387, 0.40465, 0.407, 0.35193, 0.23029, 0.30442, 0, 0.40087, 0.40836, 0.38518, 0.31124, 0.20388, 0.2608, 0, 0, 0.34923], "3721": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0, 0.086, 0.7114, 1.2069, 1.3383, 1.2491, 1.6142, 0, 2.313, 2.2776, 2.40348, 2.39917, 2.1549, 2.21968, 0, 0, 2.48746, 2.52875, 2.47966, 2.31676, 2.16505, 2.24059, 2.31296, 2.33738, 2.48495, 2.44476, 0, 2.32165, 2.28302, 2.31428, 2.37422, 2.61192, 0, 0, 0, 2.40469]}

    // Vertical lines for Chrome milestones:
    const milestones = { 'M87': '2020-11-17', 'M86': '2020-10-06' };
    const annotations = Object.entries(milestones).map(([m, date]) => {
      return {
        id: m,
        type: 'line',
        mode: 'vertical',
        scaleID: 'x-axis-0',
        value: use_counter_days.find(v => v == date),
        borderColor: colors["orange"],
        borderWidth: 1,
        label: {
          backgroundColor: colors["orange"],
          content: m,
          enabled: true,
          position: "bottom",
          yAdjust: 5
        }
      };
    });

    // Configure chart options:
    const chart_options = {
      scales: {
        yAxes: [
          {
            ticks: {
              beginAtZero: true,
              callback: (v) => { return v + '%'; }
            },
            scaleLabel: {
              display: true,
              labelString: 'Percentage of Page Views'
            }
          }
        ]
      },
      annotation: { annotations: annotations }
    };

    // Configure charts:
    const charts = [{
        id: "dd_usage",
        data: [{
            label: "document.domain allowed access",
            color: "green",
            useCounter: 2544
          }, {
            label: "document.domain blocked access",
            color: "red",
            useCounter: 2543
          }]
      }, {
        id: "sab_usage",
        data: [{
            label: "Shared Array Buffer",
            color: "red",
            useCounter: 3114
          }]
      }, {
        id: "same_origin_mime_usage",
        data: [{
            label: "application/octet-stream",
            color: "red",
            useCounter: 2167
          }, {
            label: "application/xml",
            color: "blue",
            useCounter: 2168
          }, {
            label: "text/html",
            color: "green",
            useCounter: 2169
          }, {
            label: "text/plain",
            color: "orange",
            useCounter: 2170
          }, {
            label: "text/xml",
            color: "purple",
            useCounter: 2171
          }]
      }, {
        id: "cross_origin_mime_usage",
        data: [{
            label: "application/octet-stream",
            color: "red",
            useCounter: 2172
          }, {
            label: "application/xml",
            color: "blue",
            useCounter: 2173
          }, {
            label: "text/html",
            color: "green",
            useCounter: 2174
          }, {
            label: "text/plain",
            color: "orange",
            useCounter: 2175
          }, {
            label: "text/xml",
            color: "purple",
            useCounter: 2176
          }]
      }, {
        id: "worker_usage",
        data: [{
            label: "Strict checks would block worker",
            color: "red",
            useCounter: 3090
          }]
      }, {
        id: "nonsecure_private_network_usage",
        data: [{
            label: "Local in Private",
            color: "red",
            useCounter: 3689
          }, {
            label: "Local in Public",
            color: "blue",
            useCounter: 3691
          }, {
            label: "Local in Unknown",
            color: "green",
            useCounter: 3693
          }, {
            label: "Private in Public",
            color: "orange",
            useCounter: 3695
          }, {
            label: "Private in Unknown",
            color: "purple",
            useCounter: 3697,
          }]
      }, {
        id: "secure_private_network_usage",
        data: [{
            label: "Local in Private",
            color: "red",
            useCounter: 3688
          }, {
            label: "Local in Public",
            color: "blue",
            useCounter: 3690
          }, {
            label: "Local in Unknown",
            color: "green",
            useCounter: 3692
          }, {
            label: "Private in Public",
            color: "orange",
            useCounter: 3694
          }, {
            label: "Private in Unknown",
            color: "purple",
            useCounter: 3696
          }]
      }
    ];

    charts.forEach(c => {
      new Chart(c.id, {
        type: "line",
        options: chart_options,
        data: {
          labels: use_counter_days,
          datasets: c.data.map(d => {
            return {
              label: d.label,
              borderColor: colors[d.color],
              data: use_counter_buckets[d.useCounter + ""]
            };
          })
        }
      });
    });
  </script>
  <footer>
    Something you'd like to see? <a href="https://github.com/mikewest/deprecate-it">File an issue!</a> &ndash; Updated on 2020-12-18.
  </footer>
</body>
</html>
